<!DOCTYPE html>
<html>
    <head>
        <title>MBTA Station Traffic</title>
        <script src="http://d3js.org/d3.v3.min.js"></script>
    </head>
    <body>
        <script>

        // create a data structure like this:
        // jsonC = ["exits":[], "entries":[]]

        var pi = Math.PI;

        var jsonCircles = [
            {
                "station": "Alewife",
                "x_axis": 987,
                "y_axis": 352,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                            {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Davis",
                "x_axis": 1078,
                "y_axis": 448,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Porter",
                "x_axis": 1173,
                "y_axis": 538,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Harvard",
                "x_axis": 1265,
                "y_axis": 632,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Central",
                "x_axis": 1359,
                "y_axis": 727,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Kendall",
                "x_axis": 1450,
                "y_axis": 817,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Charles/MGH",
                "x_axis": 1565,
                "y_axis": 931,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Park",
                "x_axis": 1637,
                "y_axis": 1006,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Downtown Crossing",
                "x_axis": 1748,
                "y_axis": 1115,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "South Station",
                "x_axis": 1828,
                "y_axis": 1197,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Broadway",
                "x_axis": 1929,
                "y_axis": 1394,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Andrew",
                "x_axis": 1930,
                "y_axis": 1513,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "JFK/UMass",
                "x_axis": 1928,
                "y_axis": 1627,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Savin Hill",
                "x_axis": 1824,
                "y_axis": 1913,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Fields Corner",
                "x_axis": 1824,
                "y_axis": 1965,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Shawmut",
                "x_axis": 1824,
                "y_axis": 2015,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Ashmont",
                "x_axis": 1824,
                "y_axis": 2065,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "North Quincy",
                "x_axis": 2103,
                "y_axis": 1966,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Wollaston",
                "x_axis": 2175,
                "y_axis": 2037,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Quincy Center",
                "x_axis": 2248,
                "y_axis": 2111,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Quincy Adams",
                "x_axis": 2300,
                "y_axis": 2187,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Braintree",
                "x_axis": 2300,
                "y_axis": 2297,
                "color": "red",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Bowdoin",
                "x_axis": 1643,
                "y_axis": 846,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "State",
                "x_axis": 1800,
                "y_axis": 991,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Aquarium",
                "x_axis": 1901,
                "y_axis": 903,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Maverick",
                "x_axis": 2053,
                "y_axis": 754,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Airport",
                "x_axis": 2106,
                "y_axis": 698,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Wood Island",
                "x_axis": 2163,
                "y_axis": 642,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Orient Heights",
                "x_axis": 2234,
                "y_axis": 572,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Suffolk Downs",
                "x_axis": 2304,
                "y_axis": 501,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Beachmont",
                "x_axis": 2373,
                "y_axis": 432,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Revere Beach",
                "x_axis": 2441,
                "y_axis": 364,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Wonderland",
                "x_axis": 2525,
                "y_axis": 280,
                "color": "blue",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Oak Grove",
                "x_axis": 1800,
                "y_axis":178,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Malden Center",
                "x_axis": 1800,
                "y_axis": 250,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Wellington",
                "x_axis": 1800,
                "y_axis": 323,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Assembly",
                "x_axis": 1800,
                "y_axis": 393,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Sullivan Square",
                "x_axis": 1800,
                "y_axis": 466,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Community College",
                "x_axis": 1800,
                "y_axis": 536,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "North Station",
                "x_axis": 1800,
                "y_axis": 710,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Haymarket",
                "x_axis": 1800,
                "y_axis": 842,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "State",
                "x_axis": 1800,
                "y_axis": 991,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Downtown Crossing",
                "x_axis": 1748,
                "y_axis": 1114,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Chinatown",
                "x_axis": 1662,
                "y_axis": 1198,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Tufts",
                "x_axis": 1516,
                "y_axis": 1346,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Back Bay",
                "x_axis": 1445,
                "y_axis": 1415,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Mass Ave",
                "x_axis": 1383,
                "y_axis": 1478,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Ruggles",
                "x_axis": 1315,
                "y_axis": 1545,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Roxbury Crossing",
                "x_axis": 1249,
                "y_axis": 1611,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Jackson Sq",
                "x_axis": 1166,
                "y_axis": 1695,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Stony Brook",
                "x_axis": 1082,
                "y_axis": 1779,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Green St",
                "x_axis": 999,
                "y_axis": 1863,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            },
            {
                "station": "Forest Hills",
                "x_axis": 914,
                "y_axis": 1948,
                "color": "orange",
                "traffic": [{"startAngle": 0, "endAngle": pi, "people":20},
                    {"startAngle": pi, "endAngle": 2*pi, "people":10}]
            }
        ];



        var svgContainer = d3.select("body").append("svg")
                                            .attr("width", 3000)
                                            .attr("height", 3000);

        var arcPath = d3.svg.arc()
                                .innerRadius(2)
                                .outerRadius(function (d) {return d.traffic[0].people;})
                                .startAngle(function (d) {return d.traffic[0].startAngle;})
                                .endAngle(function (d) {return d.traffic[0].endAngle;});


        var arcPaths = svgContainer.selectAll("path")
                                    .data(jsonCircles)
                                    .enter()
                                    .append("path")
                                    .attr("transform", function (d) {return "translate(" + d.x_axis + "," + d.y_axis + ")";})
                                    // .attr("d",  function (arcData) {return arcData.arc})
                                    .attr("d", arcPath)
                                    .attr("fill", function (d) {return d.color});



        </script>
    </body>
</html>
